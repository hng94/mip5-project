(this["webpackJsonpmip5-project"]=this["webpackJsonpmip5-project"]||[]).push([[0],{131:function(e,t,r){},248:function(e,t,r){"use strict";r.r(t);var c=r(14),a=r(7),s=r(1),n=r.n(s),l=r(80),i=r.n(l),d=(r(131),r(10)),o=r(15),j=r(5),b=r(18),u=r(0);function m(e){var t=e.project;return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(d.b,{to:"/projects/detail/".concat(t.id),children:Object(u.jsxs)("div",{className:"max-h-full flex flex-col bg-white overflow-hidden border-gray-300 rounded cursor-pointer max-w-4xl transition duration-300 ease-in-out transform hover:shadow-lg",children:[Object(u.jsx)("div",{className:"aspect-w-4 aspect-h-3",children:Object(u.jsx)("img",{className:"w-full",src:t.url,alt:t.url})}),Object(u.jsxs)("div",{className:"p-4",children:[Object(u.jsxs)("div",{className:"flex flex-row space-x-2 justify-between",children:[Object(u.jsx)("p",{className:"uppercase text-red-400",children:t.category.name}),Object(u.jsxs)("div",{className:"space-x-4",children:[Object(u.jsxs)("span",{children:[Object(u.jsxs)("span",{children:[t.likeCount," "]}),Object(u.jsx)(b.g,{className:"h-6 inline-block text-red-500"})]}),Object(u.jsxs)("span",{children:[Object(u.jsxs)("span",{children:[t.commentCount," "]}),Object(u.jsx)(b.e,{className:"h-6 inline-block text-blue-500"})]})]})]}),Object(u.jsx)("p",{className:"",children:t.creator.firstName+" "+t.creator.lastName}),Object(u.jsx)("hr",{}),Object(u.jsxs)("div",{className:"h-40 pt-2",children:[Object(u.jsx)("p",{className:"text-lg truncate",children:t.title}),Object(u.jsx)("div",{className:"font-normal text-sm text-gray-700",id:"content",children:t.subTitle})]}),Object(u.jsxs)("div",{className:"pt-2",children:[Object(u.jsx)("hr",{}),Object(u.jsxs)("div",{className:"text-md text-red-400 pt-2",children:[Object(u.jsx)(b.c,{className:"inline-flex mb-1 mr-1"}),Object(u.jsx)("span",{children:new Date(t.createdDate).toLocaleDateString()})]}),Object(u.jsx)("div",{className:"",children:Object(u.jsx)("div",{className:"overflow-hidden h-2 text-xs flex rounded bg-green-200",children:Object(u.jsx)("div",{style:{width:"".concat(100*t.currentFund/t.fundingGoal,"%")},className:"shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-green-500"})})}),Object(u.jsx)("div",{className:"flex flex-row space-x-2",children:Object(u.jsxs)("span",{className:"text-green-700",children:[100*t.currentFund/t.fundingGoal,Object(u.jsx)("span",{className:"text-xs",children:" % funded"})]})})]})]})]})})})}var x,p=r(6),h=r(17);function O(e){e.value;var t=e.setValue,r=Object(h.a)(),c=r.register,a=r.handleSubmit;r.errors;return Object(u.jsxs)("form",{onSubmit:a((function(e){console.log(e),t(e.searchQuery)})),className:"border rounded border-gray-300 bg-white flex",children:[Object(u.jsx)(b.f,{type:"submit",className:"absolute h-10 ml-4 text-gray-700"}),Object(u.jsx)("input",{type:"text",name:"searchQuery",className:"inline-flex rounded border-transparent form-input bg-transparent focus:outline-none w-full pl-10",placeholder:"Search",ref:c()})]})}var f,g=Object(p.gql)(x||(x=Object(a.a)(["\n  query GetProjects($searchKey: String, $take: Float, $skip: Float) {\n    projects(data: { searchKey: $searchKey, take: $take, skip: $skip }) {\n      id\n      title\n      url\n      subTitle\n      likeCount\n      commentCount\n      category {\n        name\n      }\n      creator {\n        email\n        firstName\n        lastName\n      }\n      fundingGoal\n      currentFund\n      createdDate\n    }\n  }\n"]))),y=function(){var e=Object(s.useState)(0),t=Object(j.a)(e,2),r=t[0],c=(t[1],Object(p.useQuery)(g,{variables:{}})),a=c.loading,n=c.data,l=c.refetch,i=c.fetchMore,o=Object(s.useState)(""),b=Object(j.a)(o,2),x=b[0],h=b[1];return Object(s.useEffect)((function(){console.log(n),l({searchKey:x})}),[n,x]),Object(s.useEffect)((function(){i({variables:{skip:r,take:1}})}),[r]),a?Object(u.jsx)("p",{children:"Loading ..."}):n?Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:"grid grid-cols-4 space-x-6",children:[Object(u.jsx)("div",{className:"rounded-md flex flex-col space-y-2",children:Object(u.jsx)(O,{value:x,setValue:h})}),Object(u.jsxs)("div",{className:"col-span-3",children:[n.projects.length>0&&Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:"grid grid-col sm:grid-cols-2 lg:grid-cols-3 gap-4",children:n.projects.map((function(e,t){return Object(u.jsx)(m,{project:e},t)}))})}),0==n.projects.length&&Object(u.jsxs)("div",{children:[Object(u.jsx)("pre",{className:"mb-4 text-xl text-red-500",children:"There is not found any project"}),Object(u.jsx)(d.b,{to:"/projects/create",className:"focus:outline-none bg-blue-500 text-white uppercase py-2 px-6 shadow-lg rounded text-sm font-medium",children:"Create new project"})]})]})]})}):void 0},v=r(37);function N(e,t){Object(s.useEffect)((function(){var r=function(r){e.current&&!e.current.contains(r.target)&&t(r)};return document.addEventListener("mousedown",r),document.addEventListener("touchstart",r),function(){document.removeEventListener("mousedown",r),document.removeEventListener("touchstart",r)}}),[e,t])}function w(e,t){switch(t.type){case f.LOGIN:return r="auth",c=t.payload,window&&localStorage.setItem(r,JSON.stringify(c)),t.payload;case f.LOGOUT:return function(e){window&&localStorage.removeItem(e)}("auth"),t.payload;default:return e}var r,c}!function(e){e.LOGIN="LOGIN",e.LOGOUT="LOGOUT"}(f||(f={}));var k=r(120),S={id:null,email:null,token:null},C=Object(s.createContext)({state:S,dispatch:function(){}}),I=function(e){var t=e.children,r=function(e){var t=window&&localStorage.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch(r){return null}}("auth"),c=Object(s.useReducer)(w,S),a=Object(j.a)(c,2),n=a[0],l=a[1];return Object(s.useEffect)((function(){(null===r||void 0===r?void 0:r.token)&&(!function(e){try{var t=Object(k.a)(e),r=Date.now().valueOf()/1e3;return t.exp>r}catch(c){return!1}}(r.token)?l({type:f.LOGOUT,payload:S}):l({type:f.LOGIN,payload:r}))}),[]),Object(u.jsx)(C.Provider,{value:{state:n,dispatch:l},children:t})};function q(){return s.useContext(C)}function D(){return Object(u.jsx)("img",{src:"../../avatar.png",className:"h-10 rounded-full"})}function P(){var e=q(),t=e.state,r=e.dispatch,c=Object(s.useRef)();N(c,(function(){return i(!1)}));var a=Object(s.useState)(!1),n=Object(j.a)(a,2),l=n[0],i=n[1],o=function(){i(!1),r({type:f.LOGOUT,payload:S})};return Object(u.jsx)(I,{children:Object(u.jsxs)("nav",{style:{height:"58px"},className:"m-4 py-2 px-6 bg-white rounded-md shadow-lg flex items-center justify-between border border-white",children:[Object(u.jsx)("div",{className:"space-x-2",children:Object(u.jsx)(d.b,{to:"/",children:Object(u.jsxs)("p",{className:"rounded-md py-2 font-medium text-red-400 uppercase",children:[Object(u.jsx)(b.d,{className:"inline-flex h-5 w-5 mr-2"}),"give"]})})}),(null===t||void 0===t?void 0:t.token)?Object(u.jsx)("div",{className:"relative h-10",children:Object(u.jsx)(v.a,{children:Object(u.jsxs)("div",{ref:c,children:[Object(u.jsx)(v.a.Button,{className:"inline-flex focus:outline-none",children:Object(u.jsx)("div",{className:"h-10",onClick:function(){return i(!l)},children:Object(u.jsx)(D,{})})}),Object(u.jsx)(v.b,{show:l,enter:"transition ease-out duration-100",enterFrom:"transform-gpu  opacity-0 scale-95",enterTo:"transform-gpu  opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"trantransform-gpu sform opacity-100 scale-100",leaveTo:"transform-gpu  opacity-0 scale-95",children:Object(u.jsxs)(v.a.Items,{static:!0,className:"absolute z-50 right-0 w-56 mt-2 origin-top-right bg-white border border-gray-200 divide-y divide-gray-100 rounded-md shadow-lg outline-none",children:[Object(u.jsxs)("div",{className:"px-4 py-3",children:[Object(u.jsx)("p",{className:"text-sm leading-5",children:"Signed in as"}),Object(u.jsx)("p",{className:"text-sm font-medium leading-5 text-gray-900 truncate",children:null===t||void 0===t?void 0:t.email})]}),Object(u.jsxs)("div",{className:"py-1",children:[Object(u.jsx)(v.a.Item,{children:Object(u.jsx)(d.b,{to:"/profile",children:Object(u.jsx)("p",{onClick:function(){return i(!l)},className:"hover:bg-gray-100 hover:text-red-400 text-gray-700 flex justify-between w-full px-4 py-2 text-sm leading-5 text-left focus:outline-none",children:"Profile"})})}),Object(u.jsx)(v.a.Item,{children:Object(u.jsx)(d.b,{to:"/orders",children:Object(u.jsx)("p",{onClick:function(){return i(!l)},className:"hover:bg-gray-100 hover:text-red-400 text-gray-700 flex justify-between w-full px-4 py-2 text-sm leading-5 text-left focus:outline-none",children:"My orders"})})}),Object(u.jsx)(v.a.Item,{children:Object(u.jsx)(d.b,{to:"/projects",children:Object(u.jsx)("p",{onClick:function(){return i(!l)},className:"hover:bg-gray-100 hover:text-red-400 text-gray-700 flex justify-between w-full px-4 py-2 text-sm leading-5 text-left focus:outline-none",children:"Created projects"})})})]}),Object(u.jsx)("div",{className:"py-1",children:Object(u.jsx)(v.a.Item,{children:function(e){var t=e.active;return Object(u.jsx)("p",{className:"".concat(t?"bg-gray-100 text-gray-900":"text-gray-700"," flex justify-between w-full px-4 py-2 text-sm leading-5 text-left"),onClick:o,children:"Sign out"})}})})]})})]})})}):Object(u.jsxs)("div",{children:[Object(u.jsx)(d.b,{to:"/register",children:Object(u.jsx)("span",{className:"rounded-md py-2 px-4 font-medium text-gray-500 hover:text-red-400",children:"Register"})}),Object(u.jsx)(d.b,{to:"/login",children:Object(u.jsx)("span",{className:"rounded-md py-2 px-4 font-medium text-gray-500 hover:text-red-400",children:"Login"})})]})]})})}var E=r(69);function T(e){var t=e.isPrivate,r=e.children,a=Object(E.a)(e,["isPrivate","children"]),s=q(),n=s.state,l=(s.dispatch,!!(null===n||void 0===n?void 0:n.token)==t);return Object(u.jsx)(o.b,Object(c.a)(Object(c.a)({},a),{},{render:function(e){var t=e.location;return l?r:Object(u.jsx)(o.a,{to:{pathname:"/",state:{from:t}}})}}))}var L,$,F,R,M=function(e){var t=e.error;return t?Object(u.jsx)("div",{children:t&&Object(u.jsx)("pre",{className:"text-xs text-red-500",children:t.graphQLErrors.map((function(e,t){var r=e.message;return Object(u.jsx)("span",{children:r},t)}))})}):null},G=Object(p.gql)(L||(L=Object(a.a)(["\n  query LoginQuery($email: String!, $password: String!) {\n    login(email: $email, password: $password) {\n      id\n      email\n      token\n    }\n  }\n"]))),_=function(){Object(o.g)();var e=q(),t=(e.state,e.dispatch),r=Object(h.a)(),c=r.register,a=r.handleSubmit,n=(r.watch,r.errors),l=Object(p.useLazyQuery)(G,{errorPolicy:"all"}),i=Object(j.a)(l,2),b=i[0],m=i[1],x=m.loading,O=m.error,g=m.data;return Object(s.useEffect)((function(){console.log(g),g&&t({type:f.LOGIN,payload:g.login})}),[g]),Object(u.jsxs)(u.Fragment,{children:[x&&Object(u.jsx)("div",{children:"Sending query"}),Object(u.jsxs)("div",{className:"rounded shadow p-4 bg-white w-full lg:w-5/12 mx-auto",children:[Object(u.jsx)(M,{error:O}),Object(u.jsx)("p",{className:"text-3xl mb-6",children:"Login"}),Object(u.jsxs)("form",{onSubmit:a((function(e){b({variables:{email:e.email,password:e.password}})})),className:"space-y-4",children:[Object(u.jsxs)("div",{children:[Object(u.jsxs)("label",{className:"text-xs font-semibold text-gray-600 uppercase",htmlFor:"email",children:["E-mail",Object(u.jsx)("input",{type:"email",name:"email",className:"form-input mt-1 block w-full rounded border-gray-300",ref:c({required:"Email is required"})})]}),Object(u.jsx)("p",{className:"text-sm text-red-500",children:n.email&&n.email.message})]}),Object(u.jsxs)("div",{children:[Object(u.jsxs)("label",{className:"text-xs font-semibold text-gray-600 uppercase",htmlFor:"password",children:["Password",Object(u.jsx)("input",{type:"password",name:"password",id:"password",className:"form-input mt-1 block w-full rounded border-gray-300",ref:c({required:"Password is required"})})]}),Object(u.jsx)("p",{className:"text-sm text-red-500",children:n.password&&n.password.message})]}),Object(u.jsx)("button",{type:"submit",className:"w-full py-3 rounded text-white font-medium bg-red-400 uppercase focus:outline-none hover:bg-red-500 hover:shadow-lg",children:"Login"})]}),Object(u.jsx)("div",{className:"sm:flex sm:flex-wrap mt-8 sm:mb-4 text-sm text-center",children:Object(u.jsx)(d.b,{to:"/register",children:Object(u.jsx)("span",{className:"flex-2 underline",children:"Create an Account"})})})]})]})},A=r(12),U=Object(p.gql)($||($=Object(a.a)(["\n  query projects($creatorId: String!) {\n    projects(data: { creatorId: $creatorId }) {\n      id\n      title\n      createdDate\n      category {\n        name\n      }\n      fundingGoal\n    }\n  }\n"]))),V=Object(p.gql)(F||(F=Object(a.a)(["\n  mutation removeProject($id: String!) {\n    removeProject(id: $id)\n  }\n"]))),J=function(e){var t=e.project,r=e.onRemove;return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:Object(u.jsx)(d.b,{className:"text-sm font-medium text-blue-500 hover:underline",to:"/projects/detail/".concat(t.id),children:t.title})}),Object(u.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:Object(u.jsx)("p",{className:"text-sm text-gray-900",children:t.category.name})}),Object(u.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:Object(u.jsx)("span",{className:"uppercase px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:t.fundingGoal})}),Object(u.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(t.createdDate).toLocaleDateString()}),Object(u.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[Object(u.jsx)(d.b,{to:"/projects/detail/".concat(t.id),className:"text-gray-500 p-2",children:"Detail"}),Object(u.jsx)(d.b,{to:"/projects/edit/".concat(t.id),className:"text-blue-500 p-2",children:"Edit"}),Object(u.jsx)("button",{onClick:r,className:"text-red-500 p-2",children:"Remove"})]})]},t.id)};function Q(){var e=q(),t=e.state,r=(e.dispatch,Object(s.useState)(null)),c=Object(j.a)(r,2),a=c[0],n=c[1],l=Object(p.useQuery)(U,{variables:{creatorId:t.id}}),i=(l.loading,l.data),o=Object(p.useMutation)(V,{onCompleted:function(e){var t=e.removeProject,r=a.filter((function(e){return e.id!==t}));n(Object(A.a)(r))}}),b=Object(j.a)(o,2),m=b[0],x=b[1];x.data,x.error;return Object(s.useEffect)((function(){i&&i.projects&&n(Object(A.a)(i.projects))}),[i]),a?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"py-4 flex flex-row justify-between",children:[Object(u.jsx)("p",{className:"text-3xl uppercase",children:"My projects"}),Object(u.jsx)(d.b,{to:"/projects/create",children:Object(u.jsx)("button",{className:"focus:outline-none bg-blue-500 text-white uppercase py-2 px-6 shadow-lg rounded text-sm font-medium",children:"New"})})]}),Object(u.jsx)("div",{className:"flex flex-col",children:Object(u.jsx)("div",{className:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8",children:Object(u.jsx)("div",{className:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8",children:Object(u.jsx)("div",{className:"overflow-hidden border border-gray-200 sm:rounded-lg shadow-sm",children:Object(u.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[Object(u.jsx)("thead",{className:"bg-gray-50",children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),Object(u.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),Object(u.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Funding goal"}),Object(u.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created data"}),Object(u.jsx)("th",{scope:"col",className:"relative px-6 py-3",children:Object(u.jsx)("span",{className:"sr-only",children:"Edit"})})]})}),Object(u.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map((function(e){return Object(u.jsx)(J,{project:e,onRemove:function(){m({variables:{id:e.id}})}},e.id)}))})]})})})})})]}):null}var z,K,Y,B=Object(p.gql)(R||(R=Object(a.a)(["\n  mutation RegisterUser($data: CreateUserInput!) {\n    register(data: $data) {\n      email\n      token\n    }\n  }\n"]))),H=function(){var e=q(),t=(e.state,e.dispatch),r=Object(h.a)(),c=r.register,a=r.handleSubmit,n=r.watch,l=r.errors,i=Object(p.useMutation)(B),d=Object(j.a)(i,2),o=d[0],b=d[1],m=(b.loading,b.error),x=b.data,O=Object(s.useRef)({});O.current=n("password","");return Object(s.useEffect)((function(){console.log(x),(null===x||void 0===x?void 0:x.register)&&t({type:f.LOGIN,payload:x.register})}),[x]),Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"rounded shadow p-4 bg-white w-full lg:w-5/12 mx-auto",children:[Object(u.jsx)(M,{error:m}),Object(u.jsx)("p",{className:"text-3xl mb-6",children:"Register"}),Object(u.jsxs)("form",{onSubmit:a((function(e){var t=e.firstName,r=e.lastName,c=e.email,a=e.postcode,s=e.address,n=e.phone,l=e.password;o({variables:{data:{firstName:t,lastName:r,email:c,postcode:a,address:s,phone:n,password:l}}})})),className:"space-y-4",children:[Object(u.jsx)("div",{children:Object(u.jsxs)("label",{className:"text-xs font-semibold text-gray-600 uppercase block",htmlFor:"firstName",children:["First name",Object(u.jsx)("span",{className:"text-red-500",children:l.firstName&&l.firstName.message}),Object(u.jsx)("input",{className:"form-input mt-1 block w-full rounded border-gray-300",type:"text",name:"firstName",ref:c({required:" is required"})})]})}),Object(u.jsx)("div",{children:Object(u.jsxs)("label",{className:"text-xs font-semibold text-gray-600 uppercase",htmlFor:"lastName",children:["Last name",Object(u.jsx)("span",{className:"text-red-500",children:l.lastName&&l.lastName.message}),Object(u.jsx)("input",{type:"text",name:"lastName",className:"form-input mt-1 block w-full rounded border-gray-300",ref:c({required:" is required"})})]})}),Object(u.jsx)("div",{children:Object(u.jsxs)("label",{className:"text-xs font-semibold text-gray-600 uppercase",htmlFor:"email",children:["E-mail",Object(u.jsx)("span",{className:"text-red-500",children:l.email&&l.email.message}),Object(u.jsx)("input",{type:"email",name:"email",className:"form-input mt-1 block w-full rounded border-gray-300",ref:c({required:" is required"})})]})}),Object(u.jsxs)("div",{children:[Object(u.jsxs)("label",{className:"text-xs font-semibold text-gray-600 uppercase",htmlFor:"password",children:["Password",Object(u.jsx)("span",{className:"text-red-500",children:l.password&&l.password.message})]}),Object(u.jsx)("input",{type:"password",name:"password",className:"form-input mt-1 block w-full rounded border-gray-300",ref:c({required:" is required"})})]}),Object(u.jsxs)("div",{children:[Object(u.jsxs)("label",{className:"text-xs font-semibold text-gray-600 uppercase",htmlFor:"password2",children:["Re-type password",Object(u.jsx)("span",{className:"text-red-500",children:l.password2&&l.password2.message})]}),Object(u.jsx)("input",{type:"password",name:"password2",className:"form-input mt-1 block w-full rounded border-gray-300",ref:c({required:" is required",validate:function(e){return e==O.current||" does not match"}})})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{className:"text-xs font-semibold text-gray-600 uppercase",htmlFor:"address",children:"Address"}),Object(u.jsx)("input",{type:"text",name:"address",className:"form-input mt-1 block w-full rounded border-gray-300",ref:c})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{className:"text-xs font-semibold text-gray-600 uppercase",htmlFor:"postcode",children:"Postcode"}),Object(u.jsx)("input",{type:"text",name:"postcode",className:"form-input mt-1 block w-full rounded border-gray-300",ref:c})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{className:"text-xs font-semibold text-gray-600 uppercase",htmlFor:"phone",children:"Telephone"}),Object(u.jsx)("input",{type:"text",name:"phone",className:"form-input mt-1 block w-full rounded border-gray-300",ref:c})]}),Object(u.jsxs)("div",{children:[Object(u.jsxs)("label",{htmlFor:"agree",children:[Object(u.jsx)("input",{name:"agree",type:"checkbox",className:"h-5 w-5 text-blue-500 rounded focus:outline-none border-gray-300",ref:c({required:!0})}),Object(u.jsxs)("span",{className:"ml-2",children:["I agree with",Object(u.jsx)("a",{href:"/policy",children:Object(u.jsx)("a",{className:"ml-1 text-gray-700 underline",children:"GIVE's policy."})})]})]}),Object(u.jsx)("p",{className:"text-sm text-red-500",children:l.agree&&"Agree with our policy to register acccount!"})]}),Object(u.jsx)("button",{type:"submit",className:"w-full py-3 rounded text-white font-medium bg-red-400 uppercase focus:outline-none hover:bg-red-500 hover:shadow-lg",children:"Register"})]})]})})},W=Object(p.gql)(z||(z=Object(a.a)(["\n  query GetProfile($email: String!) {\n    profile(email: $email) {\n      firstName\n      lastName\n      email\n      postcode\n      address\n      phone\n    }\n  }\n"]))),X=Object(p.gql)(K||(K=Object(a.a)(["\n  mutation UpdateProfile(\n    $firstName: String!\n    $lastName: String!\n    $postcode: String!\n    $address: String!\n    $phone: String!\n  ) {\n    updateProfile(\n      data: {\n        firstName: $firstName\n        lastName: $lastName\n        postcode: $postcode\n        address: $address\n        phone: $phone\n      }\n    ) {\n      firstName\n      lastName\n      email\n      postcode\n      address\n      phone\n    }\n  }\n"])));function Z(){var e=q(),t=e.state,r=(e.dispatch,Object(p.useQuery)(W,{variables:{email:t.email}})),c=r.loading,a=r.data,n=r.error,l=Object(p.useMutation)(X),i=Object(j.a)(l,2),d=i[0],o=i[1],b=o.loading,m=(o.data,o.error),x=Object(h.a)(),O=x.register,f=x.handleSubmit,g=x.watch,y=x.errors;Object(s.useRef)({}).current=g("password","");return c?Object(u.jsx)("pre",{children:"Loading"}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(M,{error:n}),Object(u.jsx)(M,{error:m}),Object(u.jsxs)("div",{className:"max-w-screen-md mx-auto rounded shadow border-gray-300 bg-white p-6 mt-4",children:[Object(u.jsx)("p",{className:"text-3xl mb-6",children:"Profile page"}),Object(u.jsx)("div",{className:"flex flex-row space-x-2",children:Object(u.jsx)(D,{})}),Object(u.jsxs)("form",{onSubmit:f((function(e){var t=e.firstName,r=e.lastName,c=e.address,a=e.postcode,s=e.phone;d({variables:{firstName:t,lastName:r,address:c,postcode:a,phone:s}})})),className:"mt-6",children:[Object(u.jsxs)("div",{className:"grid grid-cols-1 gap-6 ",children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{children:Object(u.jsxs)("label",{className:"text-xs font-semibold text-gray-600 uppercase",htmlFor:"firstName",children:[Object(u.jsx)("span",{children:"First name"}),Object(u.jsx)("span",{className:"text-red-500 ml-1",children:y.firstName&&"is required"}),Object(u.jsx)("input",{className:"form-input mt-1 block w-full rounded border-gray-300",type:"text",name:"firstName",ref:O({required:!0}),defaultValue:null===a||void 0===a?void 0:a.profile.firstName})]})}),Object(u.jsx)("div",{children:Object(u.jsxs)("label",{className:"text-xs font-semibold text-gray-600 uppercase",htmlFor:"lastName",children:["Last name",Object(u.jsx)("span",{className:"text-red-500 ml-1",children:y.lastName&&"is required"}),Object(u.jsx)("input",{type:"text",name:"lastName",className:"form-input mt-1 block w-full rounded border-gray-300",ref:O({required:!0}),defaultValue:null===a||void 0===a?void 0:a.profile.lastName})]})}),Object(u.jsx)("div",{children:Object(u.jsxs)("label",{className:"text-xs font-semibold text-gray-600 uppercase",htmlFor:"email",children:["E-mail",Object(u.jsx)("span",{className:"text-red-500 ml-1",children:y.email&&"is required"}),Object(u.jsx)("input",{type:"email",name:"email",readOnly:!0,disabled:!0,className:"disabled:opacity-50 form-input mt-1 block w-full rounded border-gray-300",ref:O({required:!0}),defaultValue:null===a||void 0===a?void 0:a.profile.email})]})})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{children:Object(u.jsxs)("label",{className:"text-xs font-semibold text-gray-600 uppercase",htmlFor:"address",children:["Address",Object(u.jsx)("span",{className:"text-red-500 ml-1",children:y.address&&"is required"}),Object(u.jsx)("input",{type:"text",name:"address",className:"form-input mt-1 block w-full rounded border-gray-300",ref:O({required:!0}),defaultValue:null===a||void 0===a?void 0:a.profile.address})]})}),Object(u.jsx)("div",{children:Object(u.jsxs)("label",{className:"text-xs font-semibold text-gray-600 uppercase",htmlFor:"postcode",children:["Postcode",Object(u.jsx)("span",{className:"text-red-500 ml-1",children:y.postcode&&"is required"}),Object(u.jsx)("input",{type:"text",name:"postcode",className:"form-input mt-1 block w-full rounded border-gray-300",ref:O({required:!0}),defaultValue:null===a||void 0===a?void 0:a.profile.postcode})]})}),Object(u.jsx)("div",{children:Object(u.jsxs)("label",{className:"text-xs font-semibold text-gray-600 uppercase",htmlFor:"phone",children:["Phone",Object(u.jsx)("span",{className:"text-red-500 ml-1",children:y.phone&&"is required"}),Object(u.jsx)("input",{type:"text",name:"phone",className:"form-input mt-1 block w-full rounded border-gray-300",ref:O({required:!0}),defaultValue:null===a||void 0===a?void 0:a.profile.phone})]})})]})]}),Object(u.jsx)("button",{disabled:b,type:"submit",className:"mt-6 mr-4 px-3 py-2 rounded text-white font-medium bg-red-400 uppercase focus:outline-none hover:bg-red-500 hover:shadow-lg",children:"Save change"})]})]})]})}var ee=Object(p.gql)(Y||(Y=Object(a.a)(["\n  query GetCategories {\n    categories {\n      id\n      name\n    }\n  }\n"]))),te=Object(s.createContext)({categories:[],setCategories:function(){}}),re=function(e){var t=e.children,r=Object(s.useState)(),c=Object(j.a)(r,2),a=c[0],n=c[1],l=Object(p.useQuery)(ee),i=(l.loading,l.error,l.data);return Object(s.useEffect)((function(){i&&n(i.categories)}),[i]),Object(u.jsx)(te.Provider,{value:{categories:a,setCategories:n},children:t})};function ce(){return Object(s.useContext)(te)}function ae(e){var t=e.items,r=e.setValue,c=e.defaultValue,a=Object(s.useState)(!1),n=Object(j.a)(a,2),l=n[0],i=n[1],d=Object(s.useRef)(),o=Object(s.useState)(c),m=Object(j.a)(o,2),x=m[0],p=m[1];Object(s.useEffect)((function(){t&&!c&&p(t[0])}),[t]);var h=function(){i(!l)};return N(d,(function(){return i(!1)})),t&&x?Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"relative inline-block text-left w-full",children:[Object(u.jsx)("div",{children:Object(u.jsxs)("button",{type:"button",className:"inline-flex w-full justify-between rounded border bg-white text-gray-700 border-gray-300 px-4 py-2 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-100 focus:ring-indigo-500",id:"options-menu","aria-haspopup":"true","aria-expanded":"true",onClick:h,children:[x.name,l?Object(u.jsx)(b.b,{className:"h-6"}):Object(u.jsx)(b.a,{className:"h-6"})]})}),Object(u.jsx)("div",{id:"dropdown",ref:d,className:"z-50 origin-top-right absolute right-0 mt-2 w-full rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5\n          transition ease-".concat(l?"out":"in"," \n          duration-").concat(l?"100":"75"," \n          transform opacity-").concat(l?"100":"0","\n          scale-").concat(l?"100":"95"),children:Object(u.jsx)("div",{className:"py-1 z-auto ".concat(l?"block":"hidden"),role:"menu","aria-orientation":"vertical","aria-labelledby":"options-menu",children:t.map((function(e,t){return Object(u.jsx)("a",{href:"#",onClick:function(){return function(e){p(e),r(e),h()}(e)},className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-gray-900",role:"menuitem",children:e.name},t)}))})})]})}):null}r(144);var se,ne=r(121),le=r.n(ne),ie={toolbar:[[{header:"1"},{header:"2"},{font:[]}],[{size:[]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["link","image","video"],["clean"]],clipboard:{matchVisual:!1}},de=["header","font","size","bold","italic","underline","strike","blockquote","list","bullet","indent","link","image","video"];function oe(e){var t=e.story,r=e.setStory,a=Object(E.a)(e,["story","setStory"]);return Object(u.jsx)(le.a,Object(c.a)(Object(c.a)({},a),{},{id:"quill-editor",modules:ie,formats:de,theme:"snow",value:t,placeholder:"Write your story here",onChange:function(e){r(e)}}))}var je,be=Object(p.gql)(se||(se=Object(a.a)(["\n  mutation CreateProject($data: CreateProjectInput!) {\n    createProject(data: $data) {\n      id\n    }\n  }\n"])));function ue(){var e=Object(o.g)(),t=Object(s.useState)(""),r=Object(j.a)(t,2),c=r[0],a=r[1],n=ce().categories,l=Object(s.useState)(),i=Object(j.a)(l,2),d=i[0],b=i[1];Object(s.useEffect)((function(){n&&b(n[0])}),[n]);var m=Object(p.useMutation)(be,{onCompleted:function(t){var r=t.createProject;e.push("/projects/detail/".concat(r.id))}}),x=Object(j.a)(m,2),O=x[0],f=x[1],g=(f.loading,f.error,f.data,Object(h.a)()),y=g.register,v=(g.errors,g.handleSubmit),N=g.watch,w=N("url"),k=N("product.url");return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:"max-w-screen-sm mx-auto mb-10",children:Object(u.jsx)("form",{onSubmit:v((function(e){var t=e.title,r=e.subTitle,a=e.url,s=e.product,n=e.fundingGoal;s.price=parseInt(s.price);var l={title:t,subTitle:r,url:a,products:[s],fundingGoal:n=parseInt(n),story:c,categoryId:d.id};O({variables:{data:l}})})),children:Object(u.jsxs)("div",{className:"shadow sm:rounded-md",children:[Object(u.jsxs)("div",{className:"px-4 rounded-t-md py-5 bg-white space-y-6 sm:p-6",children:[Object(u.jsx)("p",{className:"text-2xl text-red-400 pb-2 border-b-2 border-red-400",children:"Project info"}),Object(u.jsxs)("div",{className:"grid grid-cols-1 gap-6",children:[Object(u.jsxs)("div",{children:[Object(u.jsxs)("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700",children:["Title",Object(u.jsx)("span",{className:"text-red-500",children:"*"})]}),Object(u.jsx)("input",{type:"text",name:"title",ref:y({required:!0}),placeholder:"Title",className:"form-input mt-1 block w-full rounded border-gray-300"})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Subtitle"}),Object(u.jsx)("div",{className:"form-input mt-1",children:Object(u.jsx)("input",{name:"subTitle",ref:y({required:!0}),type:"text",placeholder:"Subtitle",className:"form-input mt-1 block w-full rounded border-gray-300"})})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),Object(u.jsx)(ae,{items:n,setValue:b})]})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Cover photo"}),Object(u.jsx)("img",{className:"max-h-20",src:w,alt:""}),Object(u.jsx)("div",{className:"form-input mt-1",children:Object(u.jsx)("input",{name:"url",ref:y({required:!0}),type:"text",placeholder:"Cover photo URL",className:"form-input mt-1 block w-full rounded border-gray-300"})})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Funding goal (eur)"}),Object(u.jsx)("div",{className:"mt-1",children:Object(u.jsx)("input",{name:"fundingGoal",ref:y({required:!0}),type:"number",placeholder:"0",step:100,className:"form-input mt-1 block w-full rounded border-gray-300"})})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("p",{className:"text-2xl text-red-400 mb-2 pb-2 border-b-2 border-red-400",children:"Story"}),Object(u.jsx)(oe,{story:c,setStory:a})]}),Object(u.jsx)("p",{className:"text-2xl text-red-400 pb-2 border-b-2 border-red-400",children:"Product"}),Object(u.jsxs)("div",{className:"grid grid-cols-1 gap-6",children:[Object(u.jsxs)("div",{children:[Object(u.jsxs)("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700",children:["Title",Object(u.jsx)("span",{className:"text-red-500",children:"*"})]}),Object(u.jsx)("input",{name:"product.title",type:"text",ref:y({required:!0}),placeholder:"Product title",className:"form-input mt-1 block w-full rounded border-gray-300"})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Price (eur)"}),Object(u.jsx)("div",{className:"mt-1",children:Object(u.jsx)("input",{type:"number",placeholder:"price",name:"product.price",ref:y({required:!0}),className:"form-input mt-1 block w-full rounded border-gray-300",step:10,min:0})})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),Object(u.jsx)("textarea",{rows:4,name:"product.description",ref:y({required:!0}),className:"resize-none form-input mt-1 block w-full rounded border-gray-300",placeholder:"Product description"})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Product photo"}),Object(u.jsx)("img",{className:"max-h-20",src:k,alt:""}),Object(u.jsx)("input",{type:"text",name:"product.url",ref:y({required:!0}),placeholder:"Product photo URL",className:"form-input mt-1 block w-full rounded border-gray-300"})]})]},"productForm")]}),Object(u.jsx)("div",{className:"px-4 rounded-b-md py-3 bg-gray-50 text-right sm:px-6",children:Object(u.jsx)("button",{className:"focus:outline-none bg-blue-500 text-white uppercase py-2 px-6 shadow-lg rounded text-sm font-medium",type:"submit",children:"Save & Lauch"})})]})})})})}!function(e){e.ADD_COMMENT="ADD_COMMENT",e.LIKE_COMMENT="LIKE_COMMENT",e.LIKE_PROJECT="LIKE_PROJECT",e.UPDATE_STORY="UPDATE_STORY",e.ADD_TIMELINE="ADD_TIMELINE",e.LOAD_PROJECT="LOAD_PROJECT",e.CREATE_ORDER="CREATE_ORDER"}(je||(je={}));var me,xe,pe=function(e,t){switch(t.type){case je.ADD_TIMELINE:return Object(c.a)(Object(c.a)({},e),{},{timelines:[].concat(Object(A.a)(e.timelines),[t.payload])});case je.UPDATE_STORY:return Object(c.a)(Object(c.a)({},e),{},{story:t.payload});case je.LOAD_PROJECT:return t.payload;case je.ADD_COMMENT:return Object(c.a)(Object(c.a)({},e),{},{commentCount:e.commentCount+1,comments:[].concat(Object(A.a)(e.comments),[t.payload])});case je.LIKE_COMMENT:var r=t.payload;return e.comments.forEach((function(e){e.id===r.comment.id&&(e.likes||(e.likes=[]),e.likes.push(r))})),Object(c.a)(Object(c.a)({},e),{},{comments:Object(A.a)(e.comments)});case je.LIKE_PROJECT:return Object(c.a)(Object(c.a)({},e),{},{likes:[].concat(Object(A.a)(null===e||void 0===e?void 0:e.likes),[t.payload])});default:return e}},he=Object(p.gql)(me||(me=Object(a.a)(["\n  query GetProject($id: String!) {\n    project(id: $id) {\n      id\n      title\n      url\n      subTitle\n      story\n      category {\n        id\n        name\n      }\n      creator {\n        firstName\n        lastName\n        email\n      }\n      fundingGoal\n      currentFund\n      createdDate\n      deletedDate\n      likeCount\n      likes {\n        creator {\n          id\n        }\n      }\n      products {\n        url\n        title\n        price\n        id\n        description\n        orders {\n          id\n          quantity\n        }\n      }\n      timelines {\n        content\n        createdDate\n      }\n      commentCount\n      comments {\n        id\n        content\n        likeCount\n        createdDate\n        creator {\n          id\n          firstName\n          lastName\n          email\n        }\n        likes {\n          creator {\n            id\n          }\n        }\n      }\n    }\n  }\n"]))),Oe=Object(s.createContext)({state:null,dispatch:function(){}}),fe=function(e){var t=e.children,r=Object(o.h)().projectId,c=Object(s.useReducer)(pe,null),a=Object(j.a)(c,2),n=a[0],l=a[1],i=Object(p.useQuery)(he,{variables:{id:r},onCompleted:function(e){l({payload:e.project,type:je.LOAD_PROJECT})}}),d=(i.loading,i.data);i.refetch;return Object(s.useLayoutEffect)((function(){d&&l({payload:d.project,type:je.LOAD_PROJECT})}),[]),Object(u.jsx)(Oe.Provider,{value:{state:n,dispatch:l},children:t})};function ge(){return Object(s.useContext)(Oe)}var ye,ve=Object(p.gql)(xe||(xe=Object(a.a)(["\n  mutation createOrder($productId: ID!, $quantity: Float!) {\n    createOrder(data: { productId: $productId, quantity: $quantity }) {\n      id\n      creator {\n        id\n      }\n      quantity\n      status\n      product {\n        id\n      }\n    }\n  }\n"])));function Ne(e){var t,r=e.product,c=Object(o.g)(),a=Object(s.useState)(r),n=Object(j.a)(a,2),l=n[0],i=(n[1],Object(h.a)()),d=i.register,b=i.handleSubmit,m=(i.errors,Object(p.useMutation)(ve,{onCompleted:function(){c.push("/orders")}})),x=Object(j.a)(m,2),O=x[0],f=x[1];f.loading,f.data;if(l)return Object(u.jsxs)("div",{className:"flex mb-4 flex-col rounded bg-white border-gray-400 shadow max-w-md",children:[Object(u.jsxs)("div",{className:"p-4 space-y-2",children:[Object(u.jsx)("p",{className:"text-2xl capitalize",children:l.title}),Object(u.jsx)("img",{style:{width:"270px"},src:l.url,alt:l.title}),Object(u.jsxs)("div",{className:"py-4",children:[Object(u.jsxs)("span",{className:"text-4xl font-bold text-green-400",children:[l.price," \u20ac"]}),Object(u.jsx)("span",{children:"/unit"}),Object(u.jsxs)("p",{className:"text-gray-500 float-right",children:[null===(t=l.orders)||void 0===t?void 0:t.length," orders"]})]}),Object(u.jsxs)("form",{onSubmit:b((function(e){O({variables:{productId:r.id,quantity:parseInt(e.quantity)}})})),children:[Object(u.jsx)("input",{type:"number",name:"quantity",className:"form-input mt-1 block w-full rounded border-gray-300",defaultValue:1,max:99,min:1,ref:d({required:!0,min:1,max:99})}),Object(u.jsx)("button",{type:"submit",className:"bg-red-400 mt-2 text-white uppercase py-2 px-6 hover:shadow-lg hover:bg-red-500 rounded text-sm font-medium focus:outline-none",children:"Order"})]})]}),Object(u.jsx)("hr",{}),Object(u.jsxs)("div",{className:"p-4 space-y-2",children:[Object(u.jsx)("p",{className:"uppercase",children:"description"}),Object(u.jsx)("p",{className:"text-gray-500 dark:text-gray-400 text-base",children:l.description})]})]})}var we,ke=Object(p.gql)(ye||(ye=Object(a.a)(["\n  mutation likeProject($projectId: ID!) {\n    likeProject(data: { projectId: $projectId }) {\n      likeCount\n      likes {\n        creator {\n          id\n        }\n      }\n    }\n  }\n"])));function Se(){var e,t=Object(o.h)().projectId,r=ge(),c=r.state,a=(r.dispatch,q()),n=a.state,l=(a.dispatch,-1!=(null===c||void 0===c||null===(e=c.likes)||void 0===e?void 0:e.map((function(e){var t;return null===e||void 0===e||null===(t=e.creator)||void 0===t?void 0:t.id})).indexOf(null===n||void 0===n?void 0:n.id))||!1),i=Object(s.useState)(l),d=Object(j.a)(i,2),m=d[0],x=d[1],h=Object(s.useState)(c.likeCount),O=Object(j.a)(h,2),f=O[0],g=O[1],y=Object(p.useMutation)(ke,{variables:{projectId:t},onCompleted:function(e){var t,r=e.likeProject;x(-1!=(null===(t=r.likes)||void 0===t?void 0:t.map((function(e){return e.creator.id})).indexOf(null===n||void 0===n?void 0:n.id))||!1),g(r.likeCount)}}),v=Object(j.a)(y,2),N=v[0],w=v[1];w.loading,w.data;return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[Object(u.jsx)("img",{style:{height:"300px"},src:c.url,alt:c.title}),Object(u.jsxs)("div",{className:"space-y-2 rounded bg-white border-gray-400 p-6",children:[Object(u.jsxs)("div",{id:"article",children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"text-red-400",children:c.category.name}),Object(u.jsx)("span",{className:"text-2xl font-semibold",children:c.title}),null!=c.deletedDate&&Object(u.jsx)("span",{className:"ml-2 text-2xl text-red-500 font-bold",children:"[CLOSED]"})]}),Object(u.jsx)("div",{className:"font-normal text-md text-gray-700",id:"content",children:c.subTitle})]}),Object(u.jsxs)("div",{className:"flex flex-row py-2",children:[Object(u.jsx)(D,{}),Object(u.jsxs)("div",{className:"px-2",children:[Object(u.jsx)("p",{className:"text-sm font-regular",children:c.creator.firstName+" "+c.creator.lastName}),Object(u.jsx)("p",{className:"text-sm font-light mb-1",children:c.creator.email})]})]}),Object(u.jsx)("hr",{}),Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"flex flex-row",children:Object(u.jsxs)("span",{className:"text-md space-x-2 text-red-400 mr-2",children:[Object(u.jsx)(b.c,{className:"inline-flex mb-1"}),Object(u.jsx)("span",{children:new Date(c.createdDate).toLocaleDateString()})]})}),Object(u.jsx)("div",{className:"overflow-hidden h-2 text-xs flex rounded bg-green-200 my-2",children:Object(u.jsx)("div",{style:{width:"".concat(100*c.currentFund/c.fundingGoal,"%")},className:"shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-green-500"})}),Object(u.jsxs)("div",{className:"space-y-1",children:[Object(u.jsxs)("p",{className:"text-4xl text-green-700",children:[c.currentFund," \u20ac"]}),Object(u.jsxs)("p",{className:"text-gray-500",children:["pledged of \u20ac",c.fundingGoal," goal"]})]})]}),Object(u.jsx)("div",{className:"space-x-4 py-4",children:Object(u.jsxs)("span",{"aria-disabled":null!=c.deletedDate,children:[Object(u.jsx)(b.g,{onClick:function(){return N()},className:"text-gray-500 cursor-pointer mb-1 mr-1 inline-flex hover:text-red-500 ".concat(m?"text-red-500":"")}),Object(u.jsxs)("span",{children:[f," likes"]})]})})]})]})})}var Ce,Ie=Object(p.gql)(we||(we=Object(a.a)(["\n  mutation likeComment($commentId: ID!) {\n    likeComment(data: { commentId: $commentId }) {\n      likes {\n        creator {\n          id\n        }\n      }\n      id\n      content\n      likeCount\n      createdDate\n      creator {\n        id\n        firstName\n        lastName\n        email\n      }\n    }\n  }\n"])));function qe(e){var t,r=e.comment,a=Object(s.useState)(r),n=Object(j.a)(a,2),l=n[0],i=n[1],d=q(),o=d.state,m=(d.dispatch,-1!=(null===(t=l.likes)||void 0===t?void 0:t.map((function(e){return e.creator.id})).indexOf(null===o||void 0===o?void 0:o.id))||!1),x=Object(s.useState)(m),h=Object(j.a)(x,2),O=h[0],f=h[1];Object(s.useEffect)((function(){f(m)}),[l]);var g=Object(p.useMutation)(Ie,{variables:{commentId:l.id},onCompleted:function(e){i(Object(c.a)({},e.likeComment))}}),y=Object(j.a)(g,2),v=y[0],N=y[1];N.loading,N.data;return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:"flex items-center justify-center",children:Object(u.jsxs)("div",{className:"bg-white dark:bg-gray-800 dark:border-gray-800 p-4 rounded-lg border w-full",children:[Object(u.jsx)("div",{className:"flex justify-between",children:Object(u.jsxs)("div",{className:"flex items-center",children:[Object(u.jsx)(D,{}),Object(u.jsxs)("div",{className:"ml-1.5 text-sm leading-tight",children:[Object(u.jsx)("span",{className:"text-black dark:text-white font-bold block ",children:l.creator.firstName+" "+l.creator.lastName}),Object(u.jsxs)("span",{className:"text-gray-500 dark:text-gray-400 font-normal block",children:["@",l.creator.email]})]})]})}),Object(u.jsx)("p",{className:"text-black dark:text-white block text-xl leading-snug mt-3",children:l.content}),Object(u.jsx)("p",{className:"text-gray-500 dark:text-gray-400 text-base py-1 my-0.5",children:new Date(l.createdDate).toDateString()}),Object(u.jsx)("div",{className:"border-gray-200 dark:border-gray-600 border border-b-0 my-1"}),Object(u.jsx)("div",{className:"text-gray-500 dark:text-gray-400 flex mt-3",children:Object(u.jsxs)("div",{className:"flex items-center mr-6",children:[Object(u.jsx)(b.g,{onClick:function(){return v()},className:"text-gray-500 inline-flex cursor-pointer hover:text-red-500 ".concat(O?"text-red-500":"")}),Object(u.jsxs)("span",{className:"ml-3",children:[l.likeCount," likes"]})]})})]})})})}var De,Pe=Object(p.gql)(Ce||(Ce=Object(a.a)(["\n  mutation CreateComment($projectId: ID!, $content: String!) {\n    createComment(data: { projectId: $projectId, content: $content }) {\n      id\n      content\n      likeCount\n      createdDate\n      creator {\n        id\n        firstName\n        lastName\n        email\n      }\n      likes {\n        creator {\n          id\n        }\n      }\n    }\n  }\n"])));function Ee(){var e=Object(o.h)().projectId,t=ge(),r=(t.state,t.dispatch),c=q(),a=c.state,s=(c.dispatch,Object(h.a)()),n=s.register,l=(s.errors,s.handleSubmit),i=s.reset,d=Object(p.useMutation)(Pe,{onCompleted:function(e){r({type:je.ADD_COMMENT,payload:e.createComment}),i({content:""})}}),b=Object(j.a)(d,2),m=b[0],x=b[1];x.loading,x.error,x.data;return Object(u.jsx)("div",{className:"flex items-center justify-center",children:Object(u.jsxs)("div",{className:"bg-white dark:bg-gray-800 glass dark:border-gray-800 p-4 rounded-xl border w-full",children:[Object(u.jsx)("div",{className:"flex justify-between",children:Object(u.jsxs)("div",{className:"flex items-center",children:[Object(u.jsx)(D,{}),Object(u.jsx)("div",{className:"ml-1.5 text-sm leading-tight",children:Object(u.jsx)("span",{className:"text-black dark:text-white font-bold block ",children:a.email})})]})}),Object(u.jsxs)("form",{onSubmit:l((function(t){console.log(t),m({variables:{content:t.content,projectId:e}}),t={}})),className:"w-full",children:[Object(u.jsx)("input",{ref:n({required:!0}),className:"bg-gray-100 my-2 rounded border border-gray-400 leading-normal resize-none w-full h-20 py-2 px-3 placeholder-gray-500 focus:outline-none focus:bg-white",name:"content",placeholder:"Type Your Comment",required:!0}),Object(u.jsx)("button",{type:"submit",className:"bg-blue-500 text-white uppercase py-2 px-6 shadow-lg rounded text-sm font-medium",children:"comment"})]})]})})}function Te(e,t){return e.createdDate<t.createdDate?1:e.createdDate>t.createdDate?-1:0}function Le(){var e=q(),t=e.state,r=(e.dispatch,ge()),c=r.state,a=c.comments,n=c.deletedDate,l=(r.dispatch,Object(s.useState)(a.sort(Te))),i=Object(j.a)(l,2),d=i[0],o=i[1];return Object(s.useEffect)((function(){o(a.sort(Te))}),[a]),(null===t||void 0===t?void 0:t.token)?Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"space-y-6",children:[Object(u.jsxs)("div",{children:[Object(u.jsx)(b.e,{className:"text-blue-500 inline-block mr-2 mb-1"}),Object(u.jsxs)("span",{children:[d.length," comments"]})]}),t.token&&null==n&&Object(u.jsx)(Ee,{}),null!=n&&Object(u.jsx)("pre",{className:"text-red-500",children:"Comment feature is closed"}),d.map((function(e,t){return Object(u.jsx)(qe,{comment:e},e.id)}))]})}):Object(u.jsx)("pre",{className:"text-red-500",children:"Login to comment"})}var $e,Fe=Object(p.gql)(De||(De=Object(a.a)(["\n  mutation createTimeline($projectId: String!, $content: String!) {\n    createTimeline(data: { projectId: $projectId, content: $content }) {\n      content\n      createdDate\n    }\n  }\n"])));function Re(){var e=Object(h.a)(),t=e.register,r=(e.errors,e.handleSubmit),c=e.reset,a=ge(),s=a.state,n=a.dispatch,l=q(),i=l.state,d=(l.dispatch,Object(p.useMutation)(Fe,{onCompleted:function(e){var t=e.createTimeline;n({type:je.ADD_TIMELINE,payload:t}),c({content:""})}})),o=Object(j.a)(d,2),b=o[0],m=o[1];m.loading,m.data;return Object(u.jsxs)(u.Fragment,{children:[i.email===s.creator.email&&null==s.deletedDate&&Object(u.jsxs)("form",{onSubmit:r((function(e){b({variables:{projectId:s.id,content:e.content}})})),children:[Object(u.jsx)("input",{ref:t({required:!0}),className:"bg-gray-100 my-2 rounded border border-gray-400 leading-normal resize-none w-full h-20 py-2 px-3 placeholder-gray-500 focus:outline-none focus:bg-white",name:"content",placeholder:"Type Your Comment",required:!0}),Object(u.jsx)("button",{type:"submit",className:"bg-blue-500 text-white uppercase py-2 px-6 shadow-lg rounded text-sm font-medium",children:"add timeline"})]}),Object(u.jsx)("div",{className:"flex justify-start",children:Object(u.jsx)("ol",{className:"p-4",children:s.timelines.map((function(e,t){return Object(u.jsxs)("li",{className:"feed-item relative pb-5 pl-6 border-l-2 border-red-300 last:border-transparent",children:[Object(u.jsx)("time",{className:"block text-gray-500 relative uppercase text-sm -top-1",dateTime:"9-25",children:new Date(e.createdDate).toLocaleDateString()}),Object(u.jsx)("span",{className:"text",children:e.content})]},"timeline".concat(t))}))})})]})}var Me,Ge=Object(p.gql)($e||($e=Object(a.a)(["\n  mutation updateProject($id: ID!, $story: String!) {\n    updateProject(data: { id: $id, story: $story }) {\n      story\n    }\n  }\n"])));function _e(){var e=q(),t=(e.state,e.dispatch,ge()),r=t.state,c=(r.id,r.story),a=(r.timelines,r.comments,r.creator,r.deletedDate,t.dispatch),n=Object(p.useMutation)(Ge,{onCompleted:function(e){var t=e.updateProject;a({type:je.UPDATE_STORY,payload:t.story})}}),l=Object(j.a)(n,2),i=(l[0],l[1]),d=(i.loading,i.data,Object(s.useState)(0)),o=Object(j.a)(d,2),b=o[0],m=o[1];return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:"flex flex-wrap",children:Object(u.jsxs)("div",{className:"w-full",children:[Object(u.jsx)("ul",{className:"flex mb-0 list-none flex-wrap pb-4 justify-between space-x-2",role:"tablist",children:["Story","Timeline","Comments"].map((function(e,t){return Object(u.jsx)("li",{className:"-mb-px last:mr-0 flex-auto text-center",children:Object(u.jsx)("a",{className:"text-xs font-bold uppercase px-5 py-3 border border-red-400 rounded block leading-normal "+(b===t?"text-white bg-red-400":"text-red-400 bg-white"),onClick:function(e){e.preventDefault(),m(t)},"data-toggle":"tab",href:"#link1",role:"tablist",children:e})},e)}))}),Object(u.jsx)("div",{className:"relative flex flex-col min-w-0 break-words bg-white w-full mb-6 rounded shadow",children:Object(u.jsx)("div",{className:"px-4 py-5 flex-auto",children:Object(u.jsxs)("div",{className:"tab-content tab-space ",children:[Object(u.jsx)("div",{className:0===b?"block":"hidden",id:"link1",children:Object(u.jsx)("div",{dangerouslySetInnerHTML:{__html:c}})}),Object(u.jsx)("div",{className:1===b?"block":"hidden",id:"link1",children:Object(u.jsx)(Re,{})}),Object(u.jsx)("div",{className:2===b?"block":"hidden",id:"link1",children:Object(u.jsx)(Le,{})})]})})})]})})})}function Ae(){var e=ge(),t=e.state;e.dispatch;return s.useEffect((function(){console.log(t)}),[t]),t?Object(u.jsxs)("div",{children:[Object(u.jsx)(Se,{}),Object(u.jsx)("hr",{className:"my-2"}),Object(u.jsxs)("div",{className:"grid grid-cols-4 gap-6",children:[Object(u.jsx)("div",{className:"col-span-3",children:Object(u.jsx)(_e,{})}),Object(u.jsx)("div",{children:t.products.map((function(e){return Object(u.jsx)(Ne,{product:e},e.id)}))})]})]}):Object(u.jsx)("p",{children:"Loading"})}var Ue,Ve,Je=Object(p.gql)(Me||(Me=Object(a.a)(["\n  mutation updateProject($data: CreateProjectInput!, $id: String!) {\n    updateProject(data: $data, id: $id)\n  }\n"])));function Qe(){var e=Object(o.g)(),t=ge(),r=t.state,c=(t.dispatch,Object(s.useState)("")),a=Object(j.a)(c,2),n=a[0],l=a[1],i=ce().categories,d=Object(s.useState)(),b=Object(j.a)(d,2),m=b[0],x=b[1],O=Object(h.a)(),f=O.register,g=(O.errors,O.handleSubmit),y=O.watch,v=O.setValue,N=Object(p.useMutation)(Je,{onCompleted:function(t){var r=t.updateProject;e.push("/projects/detail/".concat(r))}}),w=Object(j.a)(N,2),k=w[0],S=w[1],C=(S.loading,S.error,S.data,y("url")),I=y("product.url");return Object(s.useEffect)((function(){var e;(console.log("project",r),(null===r||void 0===r?void 0:r.story)&&l(null===r||void 0===r?void 0:r.story),(null===r||void 0===r?void 0:r.category)&&x(null===r||void 0===r?void 0:r.category),r)&&(v("title",r.title),v("subTitle",r.subTitle),v("url",r.url),v("product",null===(e=r.products)||void 0===e?void 0:e[0]),v("fundingGoal",r.fundingGoal))}),[r]),null!==r?Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:"max-w-screen-sm mx-auto mb-10",children:Object(u.jsx)("form",{onSubmit:g((function(e){var t=e.title,c=e.subTitle,a=e.url,s=(e.startDate,e.duration,e.product),l=e.fundingGoal;s.price=parseInt(s.price);var i={title:t,subTitle:c,url:a,products:[s],fundingGoal:l=parseInt(l),story:n,categoryId:m.id};k({variables:{data:i,id:r.id}})})),children:Object(u.jsxs)("div",{className:"shadow sm:rounded-md",children:[Object(u.jsxs)("div",{className:"px-4 rounded-t-md py-5 bg-white space-y-6 sm:p-6",children:[Object(u.jsx)("p",{className:"text-2xl text-red-400 pb-2 border-b-2 border-red-400",children:"Edit project"}),Object(u.jsxs)("div",{className:"grid grid-cols-1 gap-6",children:[Object(u.jsxs)("div",{children:[Object(u.jsxs)("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700",children:["Title",Object(u.jsx)("span",{className:"text-red-500",children:"*"})]}),Object(u.jsx)("input",{type:"text",name:"title",ref:f({required:!0}),placeholder:"Title",defaultValue:r.title,className:"form-input mt-1 block w-full rounded border-gray-300"})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Subtitle"}),Object(u.jsx)("div",{className:"form-input mt-1",children:Object(u.jsx)("input",{name:"subTitle",ref:f({required:!0}),type:"text",placeholder:"Subtitle",className:"form-input mt-1 block w-full rounded border-gray-300"})})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),Object(u.jsx)(ae,{items:i,defaultValue:r.category,setValue:x})]})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Cover photo"}),Object(u.jsx)("img",{className:"max-h-20",src:C,alt:""}),Object(u.jsx)("div",{className:"form-input mt-1",children:Object(u.jsx)("input",{name:"url",ref:f({required:!0}),type:"text",placeholder:"Cover photo URL",className:"form-input mt-1 block w-full rounded border-gray-300"})})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Funding goal (eur)"}),Object(u.jsx)("div",{className:"mt-1",children:Object(u.jsx)("input",{name:"fundingGoal",ref:f({required:!0}),type:"number",placeholder:"0",step:100,className:"form-input mt-1 block w-full rounded border-gray-300"})})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("p",{className:"text-2xl text-red-400 mb-2 pb-2 border-b-2 border-red-400",children:"Story"}),Object(u.jsx)(oe,{story:n,setStory:l})]}),Object(u.jsx)("p",{className:"text-2xl text-red-400 pb-2 border-b-2 border-red-400",children:"Product"}),Object(u.jsxs)("div",{className:"grid grid-cols-1 gap-6",children:[Object(u.jsxs)("div",{children:[Object(u.jsxs)("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700",children:["Title",Object(u.jsx)("span",{className:"text-red-500",children:"*"})]}),Object(u.jsx)("input",{name:"product.title",type:"text",ref:f({required:!0}),placeholder:"Product title",className:"form-input mt-1 block w-full rounded border-gray-300"})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Price (eur)"}),Object(u.jsx)("div",{className:"mt-1",children:Object(u.jsx)("input",{type:"number",placeholder:"price",name:"product.price",ref:f({required:!0}),className:"form-input mt-1 block w-full rounded border-gray-300",step:10,min:0})})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),Object(u.jsx)("textarea",{rows:4,name:"product.description",ref:f({required:!0}),className:"resize-none form-input mt-1 block w-full rounded border-gray-300",placeholder:"Product description"})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Product photo"}),Object(u.jsx)("img",{className:"max-h-20",src:I,alt:""}),Object(u.jsx)("input",{type:"text",name:"product.url",ref:f({required:!0}),placeholder:"Product photo URL",className:"form-input mt-1 block w-full rounded border-gray-300"})]})]},"productForm")]}),Object(u.jsx)("div",{className:"px-4 rounded-b-md py-3 bg-gray-50 text-right sm:px-6",children:Object(u.jsx)("button",{className:"focus:outline-none bg-blue-500 text-white uppercase py-2 px-6 shadow-lg rounded text-sm font-medium",type:"submit",children:"Save & Lauch"})})]})})})}):Object(u.jsx)("pre",{children:"Loading"})}var ze=Object(p.gql)(Ue||(Ue=Object(a.a)(["\n  query myOrders {\n    myOrders {\n      id\n      product {\n        title\n        project {\n          title\n          id\n        }\n      }\n      quantity\n      status\n      createdDate\n    }\n  }\n"]))),Ke=Object(p.gql)(Ve||(Ve=Object(a.a)(["\n  mutation removeOrder($id: String!) {\n    removeOrder(id: $id)\n  }\n"]))),Ye=function(e){var t=e.order,r=e.onRemove;return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:null==t.product.project.deletedDate&&Object(u.jsx)(d.b,{className:"text-sm font-medium text-blue-500 hover:underline",to:"/projects/detail/".concat(t.product.project.id),children:t.product.project.title})}),Object(u.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:Object(u.jsx)("p",{className:"text-sm text-gray-900",children:t.product.title})}),Object(u.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:Object(u.jsx)("span",{className:"uppercase px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:t.quantity})}),Object(u.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(t.createdDate).toLocaleDateString()}),Object(u.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:t.status}),Object(u.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:Object(u.jsx)("button",{onClick:r,className:"text-red-500 p-2",children:"Remove"})})]},t.id)};function Be(){var e=q(),t=(e.state,e.dispatch,Object(s.useState)(null)),r=Object(j.a)(t,2),c=r[0],a=r[1],n=Object(p.useQuery)(ze),l=(n.loading,n.data),i=Object(p.useMutation)(Ke,{onCompleted:function(e){var t=e.removeOrder;console.log(t);var r=c.filter((function(e){return e.id!==t}));a(Object(A.a)(r))}}),d=Object(j.a)(i,2),o=d[0],b=d[1];b.data,b.error;return Object(s.useEffect)((function(){l&&l.myOrders&&a(Object(A.a)(l.myOrders))}),[l]),c?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"py-4 flex flex-row justify-between",children:Object(u.jsx)("p",{className:"text-3xl uppercase",children:"My orders"})}),Object(u.jsx)("div",{className:"flex flex-col",children:Object(u.jsx)("div",{className:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8",children:Object(u.jsx)("div",{className:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8",children:Object(u.jsx)("div",{className:"overflow-hidden border border-gray-200 sm:rounded-lg shadow-sm",children:Object(u.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[Object(u.jsx)("thead",{className:"bg-gray-50",children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Project"}),Object(u.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),Object(u.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quantity"}),Object(u.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created date"}),Object(u.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),Object(u.jsx)("th",{scope:"col",className:"relative px-6 py-3",children:Object(u.jsx)("span",{className:"sr-only",children:"..."})})]})}),Object(u.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:c.map((function(e){return Object(u.jsx)(Ye,{order:e,onRemove:function(){o({variables:{id:e.id}})}},e.id)}))})]})})})})})]}):null}function He(){return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(d.a,{children:[Object(u.jsx)(P,{}),Object(u.jsx)("div",{className:"container max-w-screen-xl mx-auto",children:Object(u.jsxs)(o.d,{children:[Object(u.jsx)(o.b,{exact:!0,path:"/",children:Object(u.jsx)(y,{})}),Object(u.jsx)(o.b,{exact:!0,path:"/projects",children:Object(u.jsx)(Q,{})}),Object(u.jsx)(T,{isPrivate:!1,path:"/login",children:Object(u.jsx)(_,{})}),Object(u.jsx)(T,{isPrivate:!1,path:"/register",children:Object(u.jsx)(H,{})}),Object(u.jsx)(T,{isPrivate:!0,path:"/profile",children:Object(u.jsx)(Z,{})}),Object(u.jsx)(T,{isPrivate:!0,path:"/projects/create",children:Object(u.jsx)(ue,{})}),Object(u.jsx)(o.b,{path:"/projects/detail/:projectId",children:Object(u.jsx)(fe,{children:Object(u.jsx)(Ae,{})})}),Object(u.jsx)(T,{isPrivate:!0,path:"/projects/edit/:projectId",children:Object(u.jsx)(fe,{children:Object(u.jsx)(Qe,{})})}),Object(u.jsx)(o.b,{path:"/orders",children:Object(u.jsx)(Be,{})})]})})]})})}var We,Xe=r(122),Ze=r(123),et=r(124),tt=r(126),rt=r(125),ct=function(e){Object(tt.a)(r,e);var t=Object(rt.a)(r);function r(){var e;Object(Ze.a)(this,r);for(var c=arguments.length,a=new Array(c),s=0;s<c;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={hasError:!1},e}return Object(et.a)(r,[{key:"componentDidCatch",value:function(e,t){this.setState({hasError:!0,error:e,info:t})}},{key:"render",value:function(){return this.state.hasError?Object(u.jsx)("pre",{className:"text-red-500 text-4xl",children:"Something went wrong."}):this.props.children}}]),r}(s.Component),at=Object(p.gql)(We||(We=Object(a.a)(["\n  extend type CreateUserInput {\n    firstName: String\n    lastName: String\n    address: String\n    postcode: String\n    phone: String\n    email: String\n    password: String\n  }\n\n  extend type CreateProjectInput {\n    title: String\n    subTitle: String\n    url: String\n    categoryId: String\n    story: String\n    # startDate?: Date\n    # duration?: Number\n    products: [CreateProductInput]\n    fundingGoal: Number\n  }\n\n  extend type UpdateProjectInput {\n    id: ID\n    title: String\n    subTitle: String\n    url: String\n    categoryId: ID\n    story: String\n    # startDate?: Date\n    # duration?: Number\n    products: [UpdateProductInput]\n    fundingGoal: Number\n  }\n\n  extend type CreateProductInput {\n    title: String\n    description: String\n    price: Number\n    url: String\n  }\n\n  extend type UpdateProductInput {\n    id: ID\n    title: String\n    description: String\n    price: Number\n    url: String\n  }\n\n  extend type CreateOrderInput {\n    productId: ID\n    quantity: Number\n  }\n\n  extend type Category {\n    id: String\n    name: String\n  }\n"]))),st=Object(Xe.a)((function(e,t){var r=t.headers,a=JSON.parse(localStorage.getItem("auth"));return{headers:Object(c.a)(Object(c.a)({},r),{},{authorization:(null===a||void 0===a?void 0:a.token)?"Bearer ".concat(a.token):""})}})),nt=Object(p.createHttpLink)({uri:"http://18.184.123.88:4000/graphql"}),lt=new p.ApolloClient({link:st.concat(nt),cache:new p.InMemoryCache,defaultOptions:{watchQuery:{fetchPolicy:"no-cache",errorPolicy:"ignore"},query:{fetchPolicy:"no-cache",errorPolicy:"all"},mutate:{fetchPolicy:"no-cache",errorPolicy:"all"}},typeDefs:at});i.a.render(Object(u.jsx)(n.a.StrictMode,{children:Object(u.jsx)(ct,{children:Object(u.jsx)(p.ApolloProvider,{client:lt,children:Object(u.jsx)(I,{children:Object(u.jsx)(re,{children:Object(u.jsx)(He,{})})})})})}),document.getElementById("root"))}},[[248,1,2]]]);
//# sourceMappingURL=main.1d7027bc.chunk.js.map